<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Inno Alumni Portal</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="front/Front-end.html"><strong aria-hidden="true">1.</strong> Client</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="front/API.html"><strong aria-hidden="true">1.1.</strong> API</a></li><li class="chapter-item expanded "><a href="front/Components.html"><strong aria-hidden="true">1.2.</strong> Components</a></li><li class="chapter-item expanded "><a href="front/Contexts.html"><strong aria-hidden="true">1.3.</strong> Contexts</a></li><li class="chapter-item expanded "><a href="front/Guards.html"><strong aria-hidden="true">1.4.</strong> Guards</a></li><li class="chapter-item expanded "><a href="front/Hocs.html"><strong aria-hidden="true">1.5.</strong> Hocs</a></li><li class="chapter-item expanded "><a href="front/Hooks.html"><strong aria-hidden="true">1.6.</strong> Hooks</a></li><li class="chapter-item expanded "><a href="front/Theme.html"><strong aria-hidden="true">1.7.</strong> Theme</a></li><li class="chapter-item expanded "><a href="front/Utils.html"><strong aria-hidden="true">1.8.</strong> Utils</a></li></ol></li><li class="chapter-item expanded "><a href="server/Back-end.html"><strong aria-hidden="true">2.</strong> Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="server/API.html"><strong aria-hidden="true">2.1.</strong> API</a></li><li class="chapter-item expanded "><a href="server/Schema.html"><strong aria-hidden="true">2.2.</strong> Schema</a></li><li class="chapter-item expanded "><a href="server/Telegram.html"><strong aria-hidden="true">2.3.</strong> Telegram</a></li><li class="chapter-item expanded "><a href="server/Utils.html"><strong aria-hidden="true">2.4.</strong> Utils</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Inno Alumni Portal</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="inno-alumni-portal"><a class="header" href="#inno-alumni-portal">Inno Alumni Portal</a></h1>
<p>The application is a website that provides services for Innopolis University Alumni.
This website involves the ability to keep up with events happening in the univeristy, register for elective courses attendance and request a pass to enter university for different purposes.</p>
<h2 id="demo"><a class="header" href="#demo">Demo</a></h2>
<p>(Screenshots and Video)
https://youtu.be/PwiZH98iqJ8</p>
<p>Follow the link to watch the video</p>
<h2 id="how-to-use"><a class="header" href="#how-to-use">How to Use</a></h2>
<ol>
<li><strong><em>Customer Complaints</em></strong>: Customers can submit complaints directly through the telegram group mentioed on the website.</li>
<li><strong><em>Users Data Management</em></strong>: Admins are able to accept or deny requests from users with feedback (on reasons for example)</li>
<li><strong><em>Pass Order</em></strong>: Alumni users can request a pass to enter the university for different purposes from the main page of the website</li>
<li><strong><em>Elective Courses Participation Requests</em></strong>: Alumni users can request to attend elective courses held in the university at the time they are applying.</li>
</ol>
<h2 id="frameworks-and-technologies"><a class="header" href="#frameworks-and-technologies">Frameworks and Technologies</a></h2>
<ul>
<li>Python FastAPI</li>
<li>Next.js</li>
<li>Docker</li>
<li>PostgreSQL</li>
</ul>
<h2 id="how-to-run"><a class="header" href="#how-to-run">How to Run:</a></h2>
<ul>
<li>Instructions can be found in readme file in the frontend/backend folders</li>
</ul>
<h1 id="alumni-portal-backend"><a class="header" href="#alumni-portal-backend">Alumni Portal Backend</a></h1>
<h2 id="how-to-run-1"><a class="header" href="#how-to-run-1">How to run</a></h2>
<h3 id="using-python"><a class="header" href="#using-python">Using Python</a></h3>
<ol>
<li>Open a shell/command line in this folder (better if it was after activating a python virtual env)</li>
<li>Install the needed python packages</li>
</ol>
<pre><code class="language-bash">    pip install -r requirements.txt
</code></pre>
<ol start="3">
<li>Run the python script:</li>
</ol>
<pre><code class="language-bash">    python3 main.py
</code></pre>
<h3 id="using-docker"><a class="header" href="#using-docker">Using docker</a></h3>
<ol>
<li>Here the image tag name is <code>alumni-backend</code> you can name it as you like</li>
<li>Also the port in docker is 8000 by default and locally you can map it to anything as you like</li>
</ol>
<pre><code class="language-bash">docker build -t alumni-backend
docker run -p 8000:8000 -d alumni-backend
</code></pre>
<h1 id="inno-alumni-portal-frontend"><a class="header" href="#inno-alumni-portal-frontend">Inno-alumni-portal frontend</a></h1>
<h2 id="how-to-run-on-local"><a class="header" href="#how-to-run-on-local">How to run on local</a></h2>
<ol>
<li>Open a shell/command line in this folder</li>
<li>To <code>install</code> all packages (local to the repo) using <code>npm</code>
<pre><code class="language-bash">npm install
</code></pre>
</li>
<li>To <code>build</code> the project for production
<pre><code class="language-bash">npm run build
</code></pre>
</li>
<li>To <code>start</code> the project on development
<pre><code class="language-bash">npm start
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="client"><a class="header" href="#client">Client</a></h1>
<h2 id="api"><a class="header" href="#api">API:</a></h2>
<p>In React, API refers to Application Programming Interface. It is a set of rules and protocols that allows different software applications to communicate with each other. In the context of React, APIs can refer to external libraries or services that are used to fetch data, handle state management, or perform other operations within a React application.</p>
<h2 id="components"><a class="header" href="#components">Components:</a></h2>
<p>Components are the building blocks of a React application. They are reusable and independent pieces of code that encapsulate a specific functionality or user interface element. Components can be composed together to create complex user interfaces.</p>
<h2 id="contexts"><a class="header" href="#contexts">Contexts:</a></h2>
<p>Contexts provide a way to share data between components without having to pass props through every level of the component tree. It allows for global state management and can be useful for managing themes, user authentication, or any other data that needs to be accessible by multiple components.</p>
<h2 id="guards"><a class="header" href="#guards">Guards:</a></h2>
<p>Guards are components or functions that control access to certain parts of an application based on certain conditions. They are often used in routing to restrict access to certain routes based on user authentication or authorization.</p>
<h2 id="hocs"><a class="header" href="#hocs">HOCs:</a></h2>
<p>Higher Order Components (HOCs) are functions that take a component as an argument and return a new enhanced component. They are used to add additional functionality or behavior to existing components without modifying their original source code.</p>
<h2 id="hooks"><a class="header" href="#hooks">Hooks:</a></h2>
<p>Hooks are functions that allow you to use state and other React features in functional components. They were introduced in React 16.8 and provide a way to write reusable logic and manage state in functional components, which were previously limited to using only class components.</p>
<h2 id="layouts"><a class="header" href="#layouts">Layouts:</a></h2>
<p>Layouts refer to the overall structure and arrangement of components in a web page or application. They define how different components are positioned and interact with each other to create the desired user interface.</p>
<h2 id="pages"><a class="header" href="#pages">Pages:</a></h2>
<p>Pages represent different views or screens of a web application. They typically consist of multiple components and are responsible for rendering the content specific to that particular page.</p>
<h2 id="sections"><a class="header" href="#sections">Sections:</a></h2>
<p>Sections are smaller divisions or parts of a web page or application. They are used to organize and group related content or functionality within a page.</p>
<h2 id="theme"><a class="header" href="#theme">Theme:</a></h2>
<p>Theme refers to the visual appearance and styling of a React application. It includes things like colors, typography, spacing, and other design-related aspects. Themes can be defined using CSS, CSS-in-JS libraries, or theme providers like Material-UI's ThemeProvider.</p>
<h2 id="utils"><a class="header" href="#utils">Utils:</a></h2>
<p>Utils, short for utilities, are helper functions or modules that provide commonly used functionality or perform specific tasks in a React application. They can include functions for data manipulation, date formatting, string operations, or any other reusable code that doesn't fit into a specific component or context.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-1"><a class="header" href="#api-1">API</a></h1>
<h2 id="loginregularuser"><a class="header" href="#loginregularuser">loginRegularUser</a></h2>
<p>Input: An object with properties "email" and "password"</p>
<p>Output: A user token (string)</p>
<p>Description: This function is used to login a regular user. It takes an object containing the user's email and password as input. It creates a new FormData object and appends the email and password to it. The function then creates an options object with headers and body properties, which are used for making a request to the server. If the login is successful, the function returns the user token. If there is an error, it notifies the error.</p>
<h2 id="registerregularuser"><a class="header" href="#registerregularuser">registerRegularUser</a></h2>
<p>Input:</p>
<ul>
<li>data: object with properties "name", "email", "password", and "confirmPassword"</li>
<li>options: object (optional)</li>
</ul>
<p>Output: RegistrationFeedback (object)</p>
<p>Description:
The registerRegularUser function is an asynchronous function that sends a request to the register endpoint with the provided user data. It returns a promise that resolves with the registrationFeedback if successful, or notifies any errors encountered during the process.</p>
<h2 id="registeradminuser"><a class="header" href="#registeradminuser">registerAdminUser</a></h2>
<p>Input: An object with properties name, email, and password.</p>
<p>Output: The registration feedback from the sendRequest function.</p>
<p>Description: This function is used to register an admin user. It takes an object as input with the admin user's name, email, and password. It then sends a request to the server using the sendRequest function, passing the base user path and the user data in the request body. After receiving the registration feedback, it displays a notification message indicating successful registration and returns the feedback. If an error occurs during the registration process, it displays the error message using the notify function.</p>
<h2 id="updateuserinformation"><a class="header" href="#updateuserinformation">updateUserInformation</a></h2>
<p>Input: updateInformation - the information to be updated</p>
<p>Output: updateFeedback - the feedback from the update request</p>
<p>Description: This function is used to update the user's profile information. It sends a request to the server with the updated information and returns the feedback from the update request. The function also displays a notification message if the update is successful, or notifies the user of any errors that occur during the update process.</p>
<h2 id="updatepasswordinformation"><a class="header" href="#updatepasswordinformation">updatePasswordInformation</a></h2>
<p>Input: passwordInformation - the information to update the user's password</p>
<p>Output: updateFeedback - the feedback from the update request</p>
<p>Description: This function is used to update the user's password. It sends a request to the server with the updated password information and returns the feedback from the update request. The function also displays a notification message if the update is successful, or notifies the user of any errors that occur during the update process.</p>
<h2 id="loginwithinnosso"><a class="header" href="#loginwithinnosso">loginWithInnoSSO</a></h2>
<p>Input: options - an optional object containing additional options for the login request</p>
<p>Output: redirectURL - the URL to redirect the user after successful login</p>
<p>Description: This function is used to login with InnoSSO. It sends a GET request to the specified URL BASE_USER_PATH/login_sso with the provided options. After a successful login, it displays a notification message "Login with sso Successful" and returns the redirect URL.</p>
<h2 id="getcurrentuser"><a class="header" href="#getcurrentuser">getCurrentUser</a></h2>
<p>Input:  accessToken  - an object containing the access token for authentication</p>
<p>Output: userInfo - an object containing the user information</p>
<p>Description: This function is used to retrieve the current user's information. It sends a GET request to the specified URL BASE_USER_PATH/ with the provided access token in the Authorization header. If the request is successful, it returns the user information. Otherwise, it displays an error notification using the notify function.</p>
<h2 id="getallregisteredusers"><a class="header" href="#getallregisteredusers">getAllRegisteredUsers</a></h2>
<p>Input: None</p>
<p>Output: usersInfo - an object containing information about all registered users</p>
<p>Description: This function is used to retrieve information about all registered users. It first retrieves the access token from the session storage. Then, it sends a GET request to the specified URL ${BASE_USER_PATH}/all with the access token in the Authorization header. If the request is successful, it returns the user information. Otherwise, it displays an error notification using the notify function.</p>
<h2 id="createpassrequest"><a class="header" href="#createpassrequest">createPassRequest</a></h2>
<p>Input:  request , options</p>
<p>Output: response</p>
<p>Description: This function is used to create a pass request. It takes an object containing the request data and an optional options object as input. The function first retrieves the access token from the session storage. It then sends a request to the server using the sendRequest function, passing the base pass path and the request data in the body. The function also adds the access token to the headers for authorization. If the request is successful, a notification message is displayed and the response is returned. If there is an error, the error is notified.</p>
<h2 id="getpassrequesthistory"><a class="header" href="#getpassrequesthistory">getPassRequestHistory</a></h2>
<p>Input: None</p>
<p>Output: passRequests</p>
<p>Description: This function is used to get the pass request history. It retrieves the access token from the session storage. It then sends a GET request to the server using the sendRequest function, passing the base pass path and the access token in the headers for authorization. The function returns the pass requests received from the server.</p>
<h2 id="deletepassrequest"><a class="header" href="#deletepassrequest">deletePassRequest</a></h2>
<p>Input: passRequestId</p>
<p>Output: response</p>
<p>Description: This function is used to delete a pass request. It retrieves the access token from the session storage. It then sends a DELETE request to the server using the sendRequest function, passing the base pass path and the pass request id in the URL. The access token is included in the headers for authorization. If the request is successful, a notification message is displayed. The function returns the response received from the server. If there is an error, it notifies the error.</p>
<h2 id="getallpassrequestadmin"><a class="header" href="#getallpassrequestadmin">getAllPassRequestAdmin</a></h2>
<p>Input: None</p>
<p>Output: passes</p>
<p>Description: This function is used to get all pass requests for the admin user. It retrieves the access token from the session storage. It then sends a GET request to the server using the sendRequest function, passing the base pass path with "/admin" appended in the URL. The access token is included in the headers for authorization. If the request is successful, it returns the passes received from the server. If there is an error, it notifies the error.</p>
<h2 id="updatepassrequest"><a class="header" href="#updatepassrequest">updatePassRequest</a></h2>
<p>Input: requestId, data</p>
<p>Output: request</p>
<p>Description: This function is used to update a pass request. It retrieves the access token from the session storage. It then sends a PATCH request to the server using the sendRequest function, passing the base pass path with "/?request_id=" and the requestId appended in the URL. The access token is included in the headers for authorization. The data is converted to JSON format and included in the request body. If the request is successful, it notifies the user with a success message and returns the updated request. If there is an error, it notifies the error.</p>
<h2 id="getallelectivecourses"><a class="header" href="#getallelectivecourses">getAllElectiveCourses</a></h2>
<p>Input: None</p>
<p>Output: electives</p>
<p>Description: This function is used to retrieve all elective courses from the server. It retrieves the access token from the session storage. It then sends a GET request to the server using the sendRequest function, passing the base elective path in the URL. The access token is included in the headers for authorization. If the request is successful, it returns the list of elective courses. If there is an error, it notifies the error.</p>
<h2 id="getallelectivecoursesadmin"><a class="header" href="#getallelectivecoursesadmin">getAllElectiveCoursesAdmin</a></h2>
<p>Input: None</p>
<p>Output: electives</p>
<p>Description: This function is used to retrieve all elective courses for an admin user from the server. It retrieves the access token from the session storage. It then sends a GET request to the server using the sendRequest function, passing the base elective path with "/admin" appended to it in the URL. The access token is included in the headers for authorization. If the request is successful, it returns the list of elective courses. If there is an error, it notifies the error.</p>
<h2 id="getbookedelectivecourses"><a class="header" href="#getbookedelectivecourses">getBookedElectiveCourses</a></h2>
<p>Input: None</p>
<p>Output: electives</p>
<p>Description: This function is used to retrieve all booked elective courses for a user from the server. It retrieves the access token from the session storage. It then sends a GET request to the server using the sendRequest function, passing the base elective path with "/booked" appended to it in the URL. The access token is included in the headers for authorization. If the request is successful, it returns the list of booked elective courses. If there is an error, it notifies the error.</p>
<h2 id="getallelectiverequests"><a class="header" href="#getallelectiverequests">getAllElectiveRequests</a></h2>
<p>Input: None</p>
<p>Output: Promise that resolves to an array of elective requests</p>
<p>Description: This function retrieves all elective requests from the server. It first retrieves the access token from the session storage. Then, it sends a GET request to the server with the access token in the Authorization header. The response is an array of elective requests.</p>
<h2 id="updateelectivecourse"><a class="header" href="#updateelectivecourse">updateElectiveCourse</a></h2>
<p>Input: Object with courseId and data properties</p>
<p>Output: Promise that resolves to the updated elective course</p>
<p>Description: This function updates an elective course on the server. It first retrieves the access token from the session storage. Then, it sends a PUT request to the server with the courseId as a query parameter and the data in the request body. The access token is included in the Authorization header. If the request is successful, it notifies the user with a success message and returns the updated elective course. If there is an error, it notifies the user with the error message.</p>
<h2 id="updateelectivecourserequest"><a class="header" href="#updateelectivecourserequest">updateElectiveCourseRequest</a></h2>
<p>Input:</p>
<ul>
<li>requestId: The ID of the elective course request to be updated.</li>
<li>data: The data containing the updated information for the elective course request.</li>
</ul>
<p>Output: the updated elective course request.</p>
<p>Description:
This function is used to update an elective course request. It sends a PATCH request to the server with the provided requestId and data. The function retrieves the access token from the sessionStorage and includes it in the Authorization header of the request. The data is serialized as JSON and sent in the request body. If the request is successful, a notification message is displayed. If there is an error, it is caught and displayed using the notify function.</p>
<h2 id="createelectivecourse"><a class="header" href="#createelectivecourse">createElectiveCourse</a></h2>
<p>Input:  data</p>
<p>Output: elective</p>
<p>Description: This function creates an elective course by sending a request to the server with the provided data. It requires an access token from the session storage to authenticate the request. If the request is successful, it returns the created elective course. Otherwise, it notifies the error.</p>
<h2 id="bulkuploadelective"><a class="header" href="#bulkuploadelective">bulkUploadElective</a></h2>
<p>Input:  data</p>
<p>Output: elective</p>
<p>Description: This function performs a bulk upload of elective courses by sending a request to the server with the provided data. It requires an access token from the session storage to authenticate the request. If the request is successful, it returns the uploaded elective courses. Otherwise, it notifies the error.</p>
<h2 id="deleteelectivecourse"><a class="header" href="#deleteelectivecourse">deleteElectiveCourse</a></h2>
<p>Input:  courseId</p>
<p>Output: None</p>
<p>Description: This function deletes an elective course by sending a DELETE request to the server with the provided course ID. It requires an access token from the session storage to authenticate the request. If the request is successful, it notifies the user that the course has been successfully deleted. Otherwise, it notifies the error.</p>
<h2 id="makeelectiverequest"><a class="header" href="#makeelectiverequest">makeElectiveRequest</a></h2>
<p>Input:  courseId</p>
<p>Output: response</p>
<p>Description: This function makes a request to the server to request an elective course. It requires a course ID as input. It retrieves an access token from the session storage to authenticate the request. If the request is successful, it notifies the user that the request was successful and is in progress. Otherwise, it notifies the error. The function returns the response from the server.</p>
<h2 id="deleteelectiverequest"><a class="header" href="#deleteelectiverequest">deleteElectiveRequest</a></h2>
<p>Input:  courseRequestId</p>
<p>Output: response</p>
<p>Description: This function makes a request to the server to delete an elective course request. It requires a course request ID as input. It retrieves an access token from the session storage to authenticate the request. If the request is successful, it notifies the user that the request was successfully deleted. Otherwise, it notifies the error. The function returns the response from the server.</p>
<h2 id="getadmindonationtext"><a class="header" href="#getadmindonationtext">getAdminDonationText</a></h2>
<p>Input: None</p>
<p>Output: message</p>
<p>Description: This function sends a GET request to the server to retrieve the admin donation text. It retrieves an access token from the session storage to authenticate the request. The function returns the message received from the server.</p>
<h2 id="getallalumnidonations"><a class="header" href="#getallalumnidonations">getAllAlumniDonations</a></h2>
<p>Input: None</p>
<p>Output: Returns a Promise that resolves to the response message from the server.</p>
<p>Description: This function retrieves all alumni donations by making a GET request to the ${BASE_DONATION_PATH} endpoint. It uses the sendRequest function to send the request and includes the access token in the Authorization header. The response message from the server is returned as a Promise.</p>
<h2 id="upsertadmindonationtext"><a class="header" href="#upsertadmindonationtext">upsertAdminDonationText</a></h2>
<p>Input: Object with a donation property</p>
<p>Output: Returns a Promise that resolves to the response message from the server.</p>
<p>Description: This function is used to update or insert an admin donation text. It takes an object as input with a donation property, which contains the updated or new donation text. The function retrieves the access token from the session storage and sends a POST request to the ${BASE_DONATION_PATH}/admin endpoint. The request includes the access token in the Authorization header and the donation object as the request body, which is converted to a JSON string using JSON.stringify(). If the request is successful, a notification is displayed with the message "Donation Request Updated Successful" and the response message from the server is returned as a Promise. If there is an error, the error is notified.</p>
<h2 id="makedonationtext"><a class="header" href="#makedonationtext">makeDonationText</a></h2>
<p>Input: Object with a donation property</p>
<p>Output: Returns a Promise that resolves to the response from the server.</p>
<p>Description: This function is used to send a donation interest to the server. It takes an object as input with a donation property, which contains the donation information. The function retrieves the access token from the session storage and sends a POST request to the ${BASE_DONATION_PATH}/ endpoint. The request includes the access token in the Authorization header and the donation object as the request body, which is converted to a JSON string using JSON.stringify(). If the request is successful, a notification is displayed with the message "Donation Interest Sent Successful" and the response from the server is returned as a Promise. If there is an error, the error is notified.</p>
<h2 id="sendrequest"><a class="header" href="#sendrequest">sendRequest</a></h2>
<p>Input:</p>
<ul>
<li>path: the path for the request</li>
<li>options: optional object containing additional request options</li>
</ul>
<p>Output: a promise that resolves to the response data in JSON format</p>
<p>Description:
This function is used to send a POST request to a specified path with optional request options. It handles setting the appropriate headers, including the "Content-Type" header as "application/json; charset=UTF-8" unless the "Remove-Content-Type" header is present in the options. The function also includes the "credentials" option set to "include" to include cookies in the request.</p>
<p>If the response is not successful (response.ok is false), the function throws an error with the detailed error message obtained from the response data. It also displays a notification message using the notify function. If the response is successful, the function parses the response data as JSON and returns it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="components-1"><a class="header" href="#components-1">Components</a></h1>
<h2 id="chart"><a class="header" href="#chart">Chart</a></h2>
<p>Description: This fragment imports the ApexChart component from the react-apexcharts library and styles it using the styled function from styled-components. It then exports the styled ApexChart component. This code is used to create a chart component for displaying data using ApexCharts in a React application.</p>
<h2 id="logo"><a class="header" href="#logo">Logo</a></h2>
<p>Description: This fragment exports a React component called Logo. It is a SVG element that represents a logo. The logo consists of two paths, each filled with the primary color from the theme. The component uses the useTheme hook from a UI library to access the current theme and get the primary color. The SVG element has a viewBox of 0 0 24 24 and fills the available space with a height and width of 100%.</p>
<h2 id="notifier"><a class="header" href="#notifier">Notifier</a></h2>
<p>Description: This fragment exports a React component called Notifier. It is a component that displays a snackbar notification. The component uses the useState hook to manage the state of the snackbar, including whether it is open and the message to display. The handleSnackbarClose function is called when the snackbar is closed, and it updates the state to close the snackbar and clear the message. The openSnackbar function is called to open the snackbar with a specific message.</p>
<p>The component also uses the useEffect hook to set the openSnackbarFn variable to the openSnackbar function when the component mounts.</p>
<p>The component renders a Snackbar component from a UI library. The Snackbar component is positioned at the bottom right corner of the screen (anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}). It is controlled by the open state variable and automatically hides after 5000 milliseconds (autoHideDuration={5000}). The handleSnackbarClose function is called when the snackbar is closed. The message to display is passed as a prop to the message prop of the Snackbar component. The ContentProps prop is used to associate the snackbar with an aria-describedby element. The TransitionComponent prop specifies the transition animation to use when showing and hiding the snackbar.</p>
<h2 id="severitypill"><a class="header" href="#severitypill">SeverityPill</a></h2>
<p>Input: props object with the following properties:</p>
<ul>
<li>color (optional): The color of the severity pill. Valid values are 'primary', 'secondary', 'error', 'info', 'warning', and 'success'.</li>
<li>children (optional): The content to display inside the severity pill.</li>
</ul>
<p>Output: React component</p>
<p>Description: The SeverityPill component is a styled component that represents a severity pill. It is used to display a small pill-shaped element with a specific color and content. The component uses the styled function from a UI library to define the styles of the severity pill. The ownerState variable is used to pass the color prop to the styles. The SeverityPillRoot component is the root element of the severity pill and it receives the ownerState and other props. The children prop is rendered inside the severity pill. The component also defines prop types for the children and color props.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contexts-1"><a class="header" href="#contexts-1">Contexts</a></h1>
<h2 id="authprovider"><a class="header" href="#authprovider">AuthProvider</a></h2>
<p>Input: props (an object that contains the children prop)</p>
<p>Output: JSX element</p>
<p>Description: A component that provides the authentication context to its children. It uses the useReducer hook to manage the authentication state with the reducer function. It also initializes the authentication state by calling the initialize function when the component mounts. The skip, signIn, signUp, and signOut functions are passed as values to the AuthContext.Provider component, along with the authentication state.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guards-1"><a class="header" href="#guards-1">Guards</a></h1>
<h2 id="authguard"><a class="header" href="#authguard">AuthGuard</a></h2>
<p>Input: props</p>
<p>Output: children</p>
<p>Description: This component is used to guard routes and ensure that the user is authenticated before accessing certain pages. It takes in a children prop which represents the content to be rendered if the user is authenticated.</p>
<p>The component uses the useRouter hook from Next.js to access the router object and the useAuthContext hook to check if the user is authenticated.</p>
<p>The ignore variable is a reference to keep track of whether the authentication check has already been performed. It is initially set to false.</p>
<p>The checked variable is a state variable that keeps track of whether the authentication check has been completed. It is initially set to false.</p>
<p>The component uses the useEffect hook to perform the authentication check when the component mounts. It only performs the check if the router is ready and if the authentication check has not already been performed. If the user is not authenticated, it redirects them to the login page. If the user is authenticated, it sets the checked state variable to true.</p>
<p>If the authentication check has not been completed (checked is false), the component returns null.</p>
<p>If the authentication check has been completed (checked is true), it renders the children prop.</p>
<p>The component also has a propTypes definition for the children prop, specifying that it should be a React node.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hocs-1"><a class="header" href="#hocs-1">Hocs</a></h1>
<h2 id="withauthguard"><a class="header" href="#withauthguard">withAuthGuard</a></h2>
<p>Input: Component</p>
<p>Output: Higher-order component</p>
<p>Description: This higher-order component wraps the provided component with the AuthGuard component, which ensures that the user is authenticated before accessing certain pages.</p>
<p>The Component parameter represents the component to be wrapped.</p>
<p>The higher-order component returns a new component that renders the AuthGuard component with the provided component as its child.</p>
<p>The new component passes any props received to the wrapped component using the spread operator.</p>
<p>The AuthGuard component will handle the authentication check and render the wrapped component if the user is authenticated.</p>
<p>Note: The AuthGuard component itself should be implemented separately.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hooks-1"><a class="header" href="#hooks-1">Hooks</a></h1>
<h2 id="useauth"><a class="header" href="#useauth">useAuth</a></h2>
<p>Input: None</p>
<p>Output: AuthContext value</p>
<p>Description: This custom hook is used to access the AuthContext value. It returns the value of the AuthContext using the useContext hook from React.</p>
<h2 id="usenprogress"><a class="header" href="#usenprogress">useNProgress</a></h2>
<p>Input: None</p>
<p>Output: None</p>
<p>Description: This custom hook is used to handle the progress bar when navigating between routes in a Next.js application. It sets up event listeners for the "routeChangeStart", "routeChangeError", and "routeChangeComplete" events provided by the Next.js Router. When the "routeChangeStart" event is triggered, the progress bar starts. When the "routeChangeError" or "routeChangeComplete" events are triggered, the progress bar is completed. The hook cleans up the event listeners when the component is unmounted.</p>
<h2 id="usepopover"><a class="header" href="#usepopover">usePopover</a></h2>
<p>Input: None</p>
<p>Output: An object with the following properties:</p>
<ul>
<li>anchorRef: a ref to the anchor element</li>
<li>handleClose: a callback function to close the popover</li>
<li>handleOpen: a callback function to open the popover</li>
<li>handleToggle: a callback function to toggle the popover open/close state</li>
<li>open: a boolean indicating whether the popover is open or closed</li>
</ul>
<p>Description: This custom hook is used to manage the state and behavior of a popover component. It initializes a ref using the useRef hook to store a reference to the anchor element. It also initializes a state variable "open" using the useState hook to keep track of whether the popover is open or closed.</p>
<p>The hook provides three callback functions:</p>
<ul>
<li>handleOpen: sets the "open" state variable to true, indicating that the popover should be opened</li>
<li>handleClose: sets the "open" state variable to false, indicating that the popover should be closed</li>
<li>handleToggle: toggles the value of the "open" state variable, effectively opening the popover if it's closed and closing it if it's open</li>
</ul>
<p>The hook returns an object containing the anchorRef, handleClose, handleOpen, handleToggle, and open properties. These can be used in a component to control the behavior and appearance of a popover.</p>
<h2 id="useselection"><a class="header" href="#useselection">useSelection</a></h2>
<p>Input: items (optional, default value is an empty array)</p>
<p>Output: An object with the following properties:</p>
<ul>
<li>handleDeselectAll: a callback function to deselect all items</li>
<li>handleDeselectOne: a callback function to deselect a specific item</li>
<li>handleSelectAll: a callback function to select all items</li>
<li>handleSelectOne: a callback function to select a specific item</li>
<li>selected: an array containing the selected items</li>
</ul>
<p>Description: This custom hook is used to manage the selection of items. It initializes a state variable "selected" using the useState hook to store the currently selected items.</p>
<p>The hook provides four callback functions:</p>
<ul>
<li>handleSelectAll: selects all items by setting the "selected" state variable to a copy of the "items" input array</li>
<li>handleSelectOne: selects a specific item by adding it to the "selected" state variable array</li>
<li>handleDeselectAll: deselects all items by setting the "selected" state variable to an empty array</li>
<li>handleDeselectOne: deselects a specific item by removing it from the "selected" state variable array</li>
</ul>
<p>The hook returns an object containing the handleDeselectAll, handleDeselectOne, handleSelectAll, handleSelectOne, and selected properties. These can be used in a component to control the selection behavior and access the selected items.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="theme-1"><a class="header" href="#theme-1">Theme</a></h1>
<p>The app defines several color palettes using the Material UI color system. Each color palette is represented by an object with different shades of the color and a contrast text color.</p>
<p>The neutral color palette consists of shades of gray, ranging from lightest to darkest.</p>
<p>The indigo color palette consists of shades of indigo, ranging from lightest to darkest.</p>
<p>The success color palette consists of shades of green, ranging from lightest to darkest.</p>
<p>The info color palette consists of shades of blue, ranging from lightest to darkest.</p>
<p>The warning color palette consists of shades of orange, ranging from lightest to darkest.</p>
<p>The error color palette consists of shades of red, ranging from lightest to darkest.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="utils-1"><a class="header" href="#utils-1">Utils</a></h1>
<h2 id="applypagination"><a class="header" href="#applypagination">applyPagination</a></h2>
<p>Input:</p>
<ul>
<li>documents: an array of documents</li>
<li>page: the current page number</li>
<li>rowsPerPage: the number of rows per page</li>
</ul>
<p>Output: an array containing a subset of the documents based on the specified page and rows per page</p>
<p>Description: This function is used to apply pagination to an array of documents. It takes in the array of documents, the current page number, and the number of rows per page as input.</p>
<p>The function uses the slice method to extract a subset of the documents array based on the specified page and rows per page. It calculates the starting index by multiplying the page number by the rows per page, and the ending index by adding the starting index to the rows per page.</p>
<p>The function then returns the subset of documents as output. This subset represents the documents that should be displayed on the current page according to the specified pagination settings.</p>
<h2 id="createemotioncache"><a class="header" href="#createemotioncache">createEmotionCache</a></h2>
<p>Input: None</p>
<p>Output: Emotion cache object</p>
<p>Description: This function creates an Emotion cache object using the createCache function from the Emotion library. The cache object is used for storing and managing CSS styles generated by Emotion.</p>
<p>The createEmotionCache function takes no input parameters and simply returns the result of calling createCache with a single configuration object. The configuration object has a single property key set to the value 'css'. This key is used by Emotion to identify the cache and associate it with the generated CSS styles.</p>
<p>The returned Emotion cache object can then be used in the application to store and retrieve CSS styles, improving performance by reusing styles instead of generating them repeatedly.</p>
<h2 id="createresourceid"><a class="header" href="#createresourceid">createResourceId</a></h2>
<p>Input: None</p>
<p>Output: String</p>
<p>Description: This function generates a unique resource ID using the window.crypto.getRandomValues method.</p>
<p>The createResourceId function does not take any input parameters. It creates a new Uint8Array with a length of 12, which will be used to store random values generated by the window.crypto.getRandomValues method. This method fills the array with cryptographically secure random values.</p>
<p>The function then converts each value in the array to a hexadecimal string using the toString(16) method and pads it with leading zeros using the padStart method to ensure that each string has a length of 2.</p>
<p>Finally, the function uses the Array.from method to convert the array of hexadecimal strings into a regular JavaScript array. The join method is then used to concatenate all the strings in the array into a single string, which represents the generated resource ID.</p>
<p>The function returns this resource ID as the output.</p>
<h2 id="exporttoexcel"><a class="header" href="#exporttoexcel">exportToExcel</a></h2>
<p>Input: { data, fileName }</p>
<p>Output: None</p>
<p>Description: This function exports data to an Excel file in the .xlsx format. It takes an object as input with two properties: data, which is an array of objects representing the data to be exported, and fileName, which is the desired name for the exported file.</p>
<p>The function uses the XLSX.utils.json_to_sheet method from the xlsx library to convert the data array into a worksheet. It then creates a workbook object with a single sheet using the fileName as the sheet name.</p>
<p>The XLSX.write method is used to convert the workbook object into an Excel buffer in the xlsx format. This buffer is then converted into a Blob object with the specified MIME type application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8.</p>
<p>Finally, the FileSaver.saveAs method is called to save the Blob object as a file with the specified fileName and .xlsx file extension.</p>
<h2 id="importfromexcel"><a class="header" href="#importfromexcel">importFromExcel</a></h2>
<p>Input: { fileName }</p>
<p>Output: None</p>
<p>Description: This function imports data from an Excel file in the .xlsx format. It takes an object as input with a single property fileName, which is the name of the file to be imported.</p>
<p>The function uses the XLSX.utils.sheet_to_json method from the xlsx library to convert the specified Excel file into a JSON object. It creates a workbook object with a single sheet named 'data' using the imported JSON data.</p>
<p>The XLSX.write method is used to convert the workbook object into an Excel buffer in the xlsx format. This buffer is then converted into a Blob object with the specified MIME type application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8.</p>
<p>Finally, the FileSaver.saveAs method is called to save the Blob object as a file with the specified fileName and .xlsx file extension.</p>
<h2 id="processexcelcallback"><a class="header" href="#processexcelcallback">processExcelCallback</a></h2>
<p>Input: event</p>
<p>Output: Promise &lt;Array<Object>&gt;</p>
<p>Description: This function processes an Excel file that has been selected by the user. It takes an event object as input, which represents the file that was selected.</p>
<p>The function uses the XLSX.read method from the xlsx library to read the contents of the selected file and create a workbook object. It then retrieves the sheet names from the workbook.</p>
<p>If there is at least one sheet in the workbook, the function uses the XLSX.utils.sheet_to_json method to convert the first sheet into a JSON object representing the data in the sheet. This JSON object is returned as the output of the function.</p>
<p>Note: This function assumes that the selected Excel file has only one sheet, and it processes only the first sheet.</p>
<h1 id="generatepassword"><a class="header" href="#generatepassword">generatePassword</a></h1>
<p>Input: { length }</p>
<p>Output: String</p>
<p>Description: This function generates a random password of the specified length. It takes an object as input with a single property length, which represents the desired length of the password.</p>
<p>The function initializes an empty string result to store the generated password. It then calculates the length of the characters array and iterates length times to generate each character of the password. Each character is randomly selected from the characters array using the Math.random() and Math.floor() functions.</p>
<p>Finally, the generated password is returned as a string.</p>
<h2 id="getinitials"><a class="header" href="#getinitials">getInitials</a></h2>
<p>Input: name (optional)</p>
<p>Output: String</p>
<p>Description: This function extracts the initials from a name. It takes a string name as input, which represents the name from which the initials are to be extracted. If no name is provided, an empty string is used as the default value.</p>
<p>The function first removes any extra whitespace in the name string using the replace method and a regular expression. It then splits the name string into an array of words using the split method and a space as the delimiter. The array is then sliced to contain only the first two words using the slice method.</p>
<p>Each word in the resulting array is mapped to its first character, which is converted to uppercase using the map method and a callback function. The resulting array of initials is then joined into a single string using the join method.</p>
<p>The resulting string of initials is returned.</p>
<h2 id="notify"><a class="header" href="#notify">notify</a></h2>
<p>Input: obj</p>
<p>Output: None</p>
<p>Description: This function handles notifications and redirects the user if necessary. It takes an object obj as input, which represents the notification message and other properties.</p>
<p>The function checks if the obj.notificationMessage exists and if its action property is equal to "REDIRECT_TO_LOGIN". If both conditions are met, the redirect function is called with the '/auth/login' parameter to redirect the user to the login page.</p>
<p>The openSnackbarExported function is then called with an object containing the notificationMessage, obj.message, and obj.toString() properties. This function is responsible for displaying a snackbar notification with the provided message.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="server"><a class="header" href="#server">Server</a></h1>
<h2 id="api-2"><a class="header" href="#api-2">API</a></h2>
<p>In the context of Python backend, an API (Application Programming Interface) refers to a set of rules and protocols that allow different software applications to communicate with each other. It defines the methods, endpoints, and data formats that can be used to interact with a web service or application. In Python, APIs are commonly built using frameworks like Flask or Django, which handle the routing and processing of HTTP requests and responses.</p>
<h2 id="schema"><a class="header" href="#schema">Schema</a></h2>
<p>In Python backend development, a schema refers to a structure or blueprint that defines the organization and validation rules for data. It is commonly used in the context of database management systems or data serialization. For example, in the case of a relational database, a schema defines the tables, columns, relationships, and constraints that make up the database. In Python, libraries like SQLAlchemy or Django ORM provide tools for defining and managing database schemas.</p>
<h2 id="telegram"><a class="header" href="#telegram">Telegram</a></h2>
<p>Telegram is a cloud-based instant messaging platform that allows users to send messages, make voice and video calls, and share media files. In Python backend development, Telegram can be integrated into applications using the Telegram Bot API. This API provides methods for creating and managing bots that can interact with users on the Telegram platform. Python libraries like python-telegram-bot or telethon can be used to implement Telegram bot functionality in a Python backend.</p>
<h2 id="utils-2"><a class="header" href="#utils-2">Utils</a></h2>
<p>"Utils" is short for utilities or utility functions. In Python backend development, utils usually refers to a module or package containing a collection of helper functions or classes that provide common functionality used across the application. These utility functions may perform tasks such as data validation, file handling, string manipulation, date/time formatting, encryption/decryption, etc. Utils are often used to keep code modular and reusable, reducing duplication and improving code organization.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-3"><a class="header" href="#api-3">API</a></h1>
<p><strong>Endpoint: GET /donation/</strong></p>
<ul>
<li>Description: Get all donations</li>
<li>Request Method: GET</li>
<li>Response Body:
<ul>
<li>List[schemas.DonationOutput]: A list of donation objects</li>
</ul>
</li>
<li>Request Headers:
<ul>
<li>Authorization: Bearer token for authentication</li>
</ul>
</li>
<li>Response Status Codes:
<ul>
<li>200 (HTTP_OK): Successful request</li>
</ul>
</li>
</ul>
<p><strong>Endpoint: POST /donation/</strong></p>
<ul>
<li>Description: Create a new donation</li>
<li>Request Method: POST</li>
<li>Request Body:
<ul>
<li>schemas.MakeDonation: Donation details
<ul>
<li>message (string): The donation message</li>
</ul>
</li>
</ul>
</li>
<li>Response Body:
<ul>
<li>status (int): The HTTP status code (201)</li>
<li>detail (string): Success message</li>
<li>data (dict): The created donation object</li>
</ul>
</li>
<li>Request Headers:
<ul>
<li>Authorization: Bearer token for authentication</li>
</ul>
</li>
<li>Response Status Codes:
<ul>
<li>201 (HTTP_CREATED): Successful request</li>
</ul>
</li>
</ul>
<p><strong>Endpoint: GET /donation/admin</strong></p>
<ul>
<li>Description: Get the latest donation message from an admin</li>
<li>Request Method: GET</li>
<li>Response Body:
<ul>
<li>schemas.DonationOutput: The donation message object</li>
</ul>
</li>
<li>Request Headers:
<ul>
<li>Authorization: Bearer token for authentication</li>
</ul>
</li>
<li>Response Status Codes:
<ul>
<li>200 (HTTP_OK): Successful request</li>
</ul>
</li>
</ul>
<p><strong>Endpoint: POST /donation/admin</strong></p>
<ul>
<li>Description: Update the donation message from an admin</li>
<li>Request Method: POST</li>
<li>Request Body:
<ul>
<li>schemas.MakeDonation: Donation details
<ul>
<li>message (string): The updated donation message</li>
</ul>
</li>
</ul>
</li>
<li>Response Body:
<ul>
<li>status (int): The HTTP status code (202)</li>
<li>detail (string): Success message</li>
<li>data (dict): The updated donation object</li>
</ul>
</li>
<li>Request Headers:
<ul>
<li>Authorization: Bearer token for authentication</li>
</ul>
</li>
<li>Response Status Codes:
<ul>
<li>202 (HTTP_ACCEPTED): Successful request</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="schema-1"><a class="header" href="#schema-1">Schema</a></h1>
<ul>
<li>
<p>InternalUser: Represents a user in the system with additional fields such as role, contact information, and other details.</p>
</li>
<li>
<p>LogInUser: Represents a user trying to log in with their email and password.</p>
</li>
<li>
<p>UserWithPassword: Represents a user with their email, password, and unique identifier.</p>
</li>
<li>
<p>CreateAdminUser: Represents the details required to create an admin user, including name, email, and password.</p>
</li>
<li>
<p>SignUpUser: Represents the details required for a user to sign up, including name, email, password, and confirmation password.</p>
</li>
<li>
<p>UpdateUser: Represents the fields that can be updated for a user, such as name, contact information, company, position, etc.</p>
</li>
<li>
<p>UserOutput: Represents the output of a user, including their name, email, contact information, company, position, etc.</p>
</li>
<li>
<p>ConfirmationCode: Represents a confirmation code used for verifying user accounts or actions.</p>
</li>
<li>
<p>UpdateUserPassword: Represents the details required to update a user's password, including the current password and new password.</p>
</li>
<li>
<p>OrderPassRequest: Represents a pass request made by a user, including the requested date, guests, and description.</p>
</li>
<li>
<p>PassRequestOutput: Represents the output of a pass request, including its ID, guest information, description, feedback, type, requested date, status, user ID, user details, and creation timestamp.</p>
</li>
<li>
<p>ElectiveCourse: Represents an elective course, including its name, instructor name, description, and mode.</p>
</li>
<li>
<p>ElectiveCourseOutput: Represents the output of an elective course, including its ID, course name, instructor name, description, and mode.</p>
</li>
<li>
<p>UpdateRequest: Represents the details required to update a request, including feedback and status.</p>
</li>
<li>
<p>MakeDonation: Represents the details required to make a donation, including a message.</p>
</li>
<li>
<p>DonationOutput: Represents the output of a donation, including its ID, user details, message, and creation timestamp.</p>
</li>
<li>
<p>ShowUser: Represents a user with their full name and email.</p>
</li>
<li>
<p>User: Represents a user with their email and password.</p>
</li>
<li>
<p>UserForgotPassword: Represents the details required for a user to reset their password, including their email.</p>
</li>
<li>
<p>UserVerifyAccount: Represents the details required to verify a user's account, including their email.</p>
</li>
<li>
<p>UserUpdatePassword: Represents the details required to update a user's password, including their email and new password.</p>
</li>
<li>
<p>VerificationCode: Represents a verification code used for verifying user accounts or actions.</p>
</li>
<li>
<p>UserOut: Represents the output of a user, including their full name, email, phone number, address, avatar URL, birth date, and country.</p>
</li>
<li>
<p>UserEdit: Represents the fields that can be updated for a user, such as address and avatar URL.</p>
</li>
<li>
<p>SlotTypeEnum: Represents the different types of slots available (LAB, TUT, LEC).</p>
</li>
<li>
<p>Slot: Represents a time slot for a course, including the instructor name, room number, start time, end time, course name, type, course ID, and group ID.</p>
</li>
<li>
<p>SlotUpdate: Represents the details required to update a time slot, including the instructor name, room number, start time, end time, course name, type, course ID, and group ID.</p>
</li>
<li>
<p>SlotRange: Represents a range of dates for a time slot, including the start date and end date.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="telegram-1"><a class="header" href="#telegram-1">Telegram</a></h1>
<h2 id="controllers"><a class="header" href="#controllers">Controllers</a></h2>
<ul>
<li>
<p>get_user(user_id): Retrieves a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>get_full_user(user_id): Retrieves a user from the database based on their Telegram ID, including their pass and course requests.</p>
</li>
<li>
<p>register_user(user_id, email="", fullname="", handle=""): Creates a new user in the database with the provided Telegram ID, email, full name, and handle.</p>
</li>
<li>
<p>update_user(user_id, email="", fullname="", handle=""): Updates the information of a user in the database based on their Telegram ID, including their email, full name, and handle.</p>
</li>
<li>
<p>update_user_alias(user_id, handle): Updates the handle (alias) of a user in the database based on their Telegram ID.</p>
</li>
<li>
<p>get_user_with_settings(user_id): Retrieves a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>get_user_with_course(user_id): Retrieves a user from the database based on their Telegram ID, including their course requests.</p>
</li>
<li>
<p>print_request(request): Generates a formatted string representation of a request's details.</p>
</li>
<li>
<p>print_request_result(request): Generates a formatted string representation of the result of a request.</p>
</li>
<li>
<p>get_pass_request(user_id): Retrieves pass requests made by a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>get_course_request(user_id): Retrieves course requests made by a user from the database based on their Telegram ID, including elective course details.</p>
</li>
<li>
<p>get_pass_request_by_id(request_id): Retrieves a pass request from the database based on its ID.</p>
</li>
<li>
<p>get_course_request_by_id(request_id): Retrieves a course request from the database based on its ID.</p>
</li>
<li>
<p>clear_pass_request_history(user_id): Deletes pass requests with "APPROVED" or "REJECTED" status made by a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>clear_course_request_history(user_id): Deletes course requests with "APPROVED" or "REJECTED" status made by a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>update_user_courses(user_id, course_id): Updates the courses of a user in the database based on their Telegram ID, connecting a new course based on its Telegram ID.</p>
</li>
<li>
<p>get_pending_elective_request(user_id): Retrieves pending elective course requests made by a user from the database based on their Telegram ID, including elective course details.</p>
</li>
<li>
<p>get_pending_pass_requests(user_id): Retrieves pending pass requests made by a user from the database based on their Telegram ID, including user details.</p>
</li>
<li>
<p>clear_pending_elective_request(user_id): Deletes pending elective course requests made by a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>get_elective_courses(): Retrieves all elective courses from the database.</p>
</li>
<li>
<p>get_elective_by_name(elective_name): Retrieves an elective course from the database based on its name.</p>
</li>
<li>
<p>request_elective(elective, user_id): Creates a new elective course request in the database with the provided elective name and user ID.</p>
</li>
<li>
<p>clear_elective_courses(user_id, ids_to_disconnect): Updates the courses of a user in the database based on their Telegram ID, disconnecting the specified elective course IDs.</p>
</li>
<li>
<p>get_electives(user_id): Retrieves the elective courses of a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>request_pass(requested_date, description, user_id): Creates a new pass request in the database with the provided requested date, description, and user ID.</p>
</li>
<li>
<p>approve_pass_request(request_id, feedback): Updates the status of a pass request in the database to "APPROVED" and adds feedback, based on the request ID.</p>
</li>
<li>
<p>approve_course_request(request_id, feedback): Updates the status of a course request in the database to "APPROVED" and adds feedback, based on the request ID.</p>
</li>
<li>
<p>reject_pass_request(request_id, feedback): Updates the status of a pass request in the database to "REJECTED" and adds feedback, based on the request ID.</p>
</li>
<li>
<p>reject_course_request(request_id, feedback): Updates the status of a course request in the database to "REJECTED" and adds feedback, based on the request ID.</p>
</li>
<li>
<p>get_pending_pass_request(user_id): Retrieves pending pass requests made by a user from the database based on their Telegram ID.</p>
</li>
<li>
<p>delete_pending_pass_request(user_id): Deletes pending pass requests made by a user from the database based on their Telegram ID.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="utils-3"><a class="header" href="#utils-3">Utils</a></h1>
<h2 id="send_email"><a class="header" href="#send_email">send_email</a></h2>
<p>It is used to send an email. It takes the following parameters:</p>
<ul>
<li>background_tasks: A BackgroundTasks object used to run tasks in the background</li>
<li>subject: The subject of the email</li>
<li>email_to: The recipient's email address</li>
<li>body: A dictionary containing the email body data</li>
<li>template_name: The name of the email template to use</li>
</ul>
<p>Inside the function, a MessageSchema object named message is created with the following attributes:</p>
<ul>
<li>subject: The subject of the email</li>
<li>recipients: A list of recipient email addresses</li>
<li>template_body: The body of the email (HTML content)</li>
<li>subtype: The subtype of the email (set to 'html')</li>
</ul>
<p>The config object is printed, and a FastMail object named fm is created using the config object.</p>
<p>Finally, a task is added to the background_tasks object to send the email using the send_message method of the fm object and the specified template name.</p>
<h2 id="hash_password"><a class="header" href="#hash_password">hash_password</a></h2>
<p>Input: password (string)</p>
<p>Output: hashed password (string)</p>
<p>Description: This function takes a plain text password as input and returns the hashed version of the password using the pwd_ctx.hash method.</p>
<h2 id="verify_password"><a class="header" href="#verify_password">verify_password</a></h2>
<p>Input: plain_password (string), hashed_password (string)</p>
<p>Output: boolean</p>
<p>Description: This function takes a plain text password and a hashed password as input and verifies if the plain text password matches the hashed password using the pwd_ctx.verify method. It returns a boolean value indicating whether the passwords match or not.</p>
<h2 id="get_current_user"><a class="header" href="#get_current_user">get_current_user</a></h2>
<p>Input: token (string)</p>
<p>Output: user (object)</p>
<p>Description: This function retrieves the current user based on the provided token. It first verifies the access token using the verify_access_token function and throws an HTTPException with a status code of 401 if the credentials are not valid. If the credentials are valid, it queries the database to find the user with the matching email and returns the user object.</p>
<h2 id="rolechecker"><a class="header" href="#rolechecker">RoleChecker</a></h2>
<p>Input: allowed_roles (List of strings)</p>
<p>Output: None</p>
<p>Description: This class is used for checking if a user has the required role to perform a certain operation. It has an init method that initializes the allowed_roles attribute with the provided list of roles. It also has a call method that takes a user object as an argument, which is obtained from the get_current_user function. If the user's role is not in the allowed_roles list, it raises an HTTPException with a status code of 403 and a detail message of "Unauthorized [Role] - Operation not permitted".</p>
<h2 id="create_access_token"><a class="header" href="#create_access_token">create_access_token</a></h2>
<p>Input: data (dict), expires_delta (Optional[timedelta])</p>
<p>Output: encoded_jwt (str)</p>
<p>Description: This function is used to create an access token. It takes in a dictionary of data and an optional timedelta object representing the expiration time for the token. If expires_delta is provided, the token will expire after the specified time. Otherwise, it will expire after a default time of ACCESS_TOKEN_EXPIRE_MINUTES minutes. The function copies the data dictionary, adds the expiration time to it, encodes the dictionary into a JWT using the SECRET_KEY and ALGORITHM, and returns the encoded JWT.</p>
<h2 id="verify_access_token"><a class="header" href="#verify_access_token">verify_access_token</a></h2>
<p>Input: token (str), credentials_exception</p>
<p>Output: email (str)</p>
<p>Description: This function is used to verify an access token. It takes in a token string and a credentials_exception object. It decodes the token using the SECRET_KEY and ALGORITHM, retrieves the email from the decoded payload, and checks if it is None. If the email is None, it raises the credentials_exception. If there is any error decoding the token, it also raises the credentials_exception. Otherwise, it returns the email.</p>
<h2 id="generate_user_verification_code"><a class="header" href="#generate_user_verification_code">generate_user_verification_code</a></h2>
<p>Input: None</p>
<p>Output: code (str)</p>
<p>Description: This function is used to generate a user verification code. It generates a unique UUID using uuid.uuid1(), converts it to a string, splits it by "-" and retrieves the first part, and returns it as the verification code.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
